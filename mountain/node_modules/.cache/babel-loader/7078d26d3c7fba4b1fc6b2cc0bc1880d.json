{"remainingRequest":"/Users/zzz/Desktop/mac/unit/mountain/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/zzz/Desktop/mac/unit/mountain/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/zzz/Desktop/mac/unit/mountain/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/zzz/Desktop/mac/unit/mountain/src/views/module.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zzz/Desktop/mac/unit/mountain/src/views/module.vue","mtime":1564384253684},{"path":"/Users/zzz/Desktop/mac/unit/mountain/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zzz/Desktop/mac/unit/mountain/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zzz/Desktop/mac/unit/mountain/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zzz/Desktop/mac/unit/mountain/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { qiniuupload } from \"../api\";\nexport default {\n  data: function data() {\n    return {\n      imageUrl: '',\n      form: {\n        img: ''\n      }\n    };\n  },\n  methods: {\n    submitUpload: function submitUpload() {\n      // let para = new URLSearchParams((this.form))\n      var para = new URLSearchParams();\n      qiniuupload(para).then(function (res) {\n        console.log(res);\n      });\n    },\n    handleChange: function handleChange(file, fileList) {\n      var _this = this;\n\n      console.log(file);\n      this.imageUrl = URL.createObjectURL(file.raw); // 图片预览\n\n      var reader = new FileReader(); //  生成文件读取\n\n      reader.readAsDataURL(file.raw); //  转化文件数据流链接\n\n      reader.onload = function () {\n        _this.form.img = reader.result; //  拿到base64结果\n\n        console.log(_this.form.img);\n      }; // this.getImgToBase64(file.raw).then(res => {\n      //   console.log(res)\n      // })\n\n    },\n    getImgToBase64: function getImgToBase64(file) {\n      return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        var imgs = '';\n        reader.readAsDataURL(file);\n\n        reader.onload = function () {\n          imgs = reader.result;\n        };\n\n        reader.onerror = function (error) {\n          reject(error);\n        };\n\n        reader.onloadend = function () {\n          resolve(imgs);\n        };\n      });\n    }\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["module.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAkBA,SAAA,WAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,GAAA,EAAA;AADA;AAFA,KAAA;AAMA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA;AACA,UAAA,IAAA,GAAA,IAAA,eAAA,EAAA;AACA,MAAA,WAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAFA;AAGA,KAPA;AAQA,IAAA,YARA,wBAQA,IARA,EAQA,QARA,EAQA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,QAAA,GAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAHA,CAGA;;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA,CAJA,CAIA;;AACA,MAAA,MAAA,CAAA,aAAA,CAAA,IAAA,CAAA,GAAA,EALA,CAKA;;AACA,MAAA,MAAA,CAAA,MAAA,GAAA,YAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,GAAA,GAAA,MAAA,CAAA,MAAA,CADA,CACA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA;AACA,OAHA,CANA,CAUA;AACA;AACA;;AACA,KArBA;AAsBA,IAAA,cAtBA,0BAsBA,IAtBA,EAsBA;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,YAAA,MAAA,GAAA,IAAA,UAAA,EAAA;AACA,YAAA,IAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,aAAA,CAAA,IAAA;;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,YAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,MAAA;AACA,SAFA;;AAGA,QAAA,MAAA,CAAA,OAAA,GAAA,UAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA;AACA,SAFA;;AAGA,QAAA,MAAA,CAAA,SAAA,GAAA,YAAA;AACA,UAAA,OAAA,CAAA,IAAA,CAAA;AACA,SAFA;AAGA,OAbA,CAAA;AAcA;AArCA,GATA;AAgDA,EAAA,OAhDA,qBAgDA,CAEA;AAlDA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-upload\n      class=\"avatar-uploader\"\n      ref=\"upload\"\n      action=\"https://upload-z2.qiniup.com\"\n      :show-file-list=\"false\"\n      :auto-upload=\"false\"\n      :on-change=\"handleChange\"\n    >\n      <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n      <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n    </el-upload>\n    <el-button  @click=\"submitUpload\">上传到服务器</el-button>\n  </div>\n</template>\n\n<script>\nimport { qiniuupload } from '../api'\nexport default {\n  data () {\n    return {\n      imageUrl: '',\n      form: {\n        img: ''\n      }\n    }\n  },\n  methods: {\n    submitUpload () {\n      // let para = new URLSearchParams((this.form))\n      let para = new URLSearchParams()\n      qiniuupload(para).then(res => {\n        console.log(res)\n      })\n    },\n    handleChange (file, fileList) {\n      const _this = this\n      console.log(file)\n      this.imageUrl = URL.createObjectURL(file.raw) // 图片预览\n      let reader = new FileReader() //  生成文件读取\n      reader.readAsDataURL(file.raw) //  转化文件数据流链接\n      reader.onload = function () {\n        _this.form.img = reader.result //  拿到base64结果\n        console.log(_this.form.img)\n      }\n      // this.getImgToBase64(file.raw).then(res => {\n      //   console.log(res)\n      // })\n    },\n    getImgToBase64 (file) {\n      return new Promise(function (resolve, reject)  {\n        let reader = new FileReader()\n        let imgs = ''\n        reader.readAsDataURL(file)\n        reader.onload = function () {\n          imgs = reader.result\n        }\n        reader.onerror = error => {\n          reject(error)\n        }\n        reader.onloadend = () => {\n          resolve(imgs)\n        }\n      })\n    },\n  },\n  mounted() {\n    \n  },\n}\n</script>\n<style>\n.avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n</style>\n\n"],"sourceRoot":"src/views"}]}