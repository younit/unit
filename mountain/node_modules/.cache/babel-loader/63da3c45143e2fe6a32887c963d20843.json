{"remainingRequest":"/Users/zzz/Desktop/mac/unit/mountain/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/zzz/Desktop/mac/unit/mountain/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/zzz/Desktop/mac/unit/mountain/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/zzz/Desktop/mac/unit/mountain/src/views/city.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zzz/Desktop/mac/unit/mountain/src/views/city.vue","mtime":1561034214582},{"path":"/Users/zzz/Desktop/mac/unit/mountain/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zzz/Desktop/mac/unit/mountain/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zzz/Desktop/mac/unit/mountain/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zzz/Desktop/mac/unit/mountain/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/zzz/Desktop/mac/unit/mountain/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { cityslist } from \"../api\";\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'system',\n  data: function data() {\n    return {\n      list: {\n        //  用户信息\n        data: [],\n        //  数据\n        total: 0 //  总数\n\n      },\n      form: {},\n      //  表单\n      currentSetSts: '',\n      //  当前操作状态\n      dialogCfg: {\n        //  弹出框配置\n        title: '',\n        //  标题\n        dialogVisible: false,\n        //  显示隐藏弹出框\n        width: '30%',\n        //  宽度\n        center: true,\n        //  是否居中\n        fullscreen: false //  是否全屏\n\n      },\n      rules: {\n        width: '100px',\n        city: [{\n          required: true,\n          message: '请选择城市',\n          trigger: 'change'\n        }],\n        name: [{\n          required: true,\n          message: '请输入景点名称',\n          trigger: 'blur'\n        }],\n        adultTicket: [{\n          required: true,\n          message: '请输入成人票价格',\n          trigger: 'blur'\n        }, {\n          type: 'number',\n          message: '必须为数字值'\n        }],\n        childTicket: [{\n          required: true,\n          message: '请输入儿童票价格',\n          trigger: 'blur'\n        }, {\n          type: 'number',\n          message: '必须为数字值'\n        }],\n        openingTime: [{\n          required: true,\n          message: '请输入开始时间',\n          trigger: 'blur'\n        }],\n        closingTime: [{\n          required: true,\n          message: '请输入结束',\n          trigger: 'blur'\n        }]\n      },\n      //  规则\n      para: {\n        //  查询条件\n        pageIndex: 1,\n        pageSize: 10\n      }\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['getcitys'])),\n  mounted: function mounted() {\n    this.getlist();\n  },\n  methods: {\n    getlist: function getlist() {\n      var _this = this;\n\n      //  查询用户列表\n      cityslist(this.para).then(function (res) {\n        console.log(res);\n        var _res$data = res.data,\n            code = _res$data.code,\n            msg = _res$data.msg,\n            data = _res$data.data,\n            total = _res$data.total;\n\n        if (code !== 200) {\n          _this.$message.error(msg);\n        } else {\n          _this.list.data = data;\n          _this.list.total = total;\n        }\n      });\n    },\n    handleSet: function handleSet(obj, row) {\n      //  根据不同状态处理对应事件\n      console.log(obj, row);\n      this.from = row;\n      this.currentSetSts = obj; //  设置当前操作状态\n\n      switch (obj) {\n        case 'add':\n          //  添加\n          this.dialogCfg.title = '添加';\n          this.dialogCfg.dialogVisible = true;\n          break;\n\n        case 'edit':\n          //  编辑\n          break;\n\n        case 'delete':\n          //  删除\n          break;\n      }\n    },\n    handleSuccess: function handleSuccess() {\n      switch (this.currentSetSts) {\n        case 'add':\n          //  添加\n          this.dialogCfg.dialogVisible = false;\n          break;\n\n        case 'edit':\n          //  编辑\n          break;\n\n        case 'delete':\n          //  删除\n          break;\n      }\n    }\n  }\n};",{"version":3,"sources":["city.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <template>\n      <div class=\"txtright marginbtm30\">\n         <el-button type=\"info\" @click=\"handleSet('add', {})\">添加城市</el-button>\n      </div>\n    </template>\n    <template>\n      <el-table\n        :data=\"list.data\"\n        style=\"width: 100%\">\n\n         <el-table-column label=\"城市\">\n          <template slot-scope=\"scope\">{{ scope.row.city }}</template>\n        </el-table-column>\n\n        <el-table-column label=\"名称\">\n          <template slot-scope=\"scope\">{{ scope.row.name }}</template>\n        </el-table-column>\n\n        <el-table-column label=\"热度\">\n          <template slot-scope=\"scope\">{{ scope.row.hot }}</template>\n        </el-table-column>\n\n        <el-table-column label=\"排名\">\n          <template slot-scope=\"scope\">{{ scope.row.rank }}</template>\n        </el-table-column>\n\n        <el-table-column label=\"评分\">\n          <template slot-scope=\"scope\">{{ scope.row.score }}</template>\n        </el-table-column>\n\n        <el-table-column label=\"成人票(￥)\" min-width=\"90\">\n          <template slot-scope=\"scope\">{{ scope.row.adultTicket }}</template>\n        </el-table-column>\n\n        <el-table-column label=\"儿童票(￥)\" min-width=\"90\">\n          <template slot-scope=\"scope\">{{ scope.row.childTicket }}</template>\n        </el-table-column>\n\n        <el-table-column label=\"开门时间\">\n          <template slot-scope=\"scope\">{{ 'AM: ' + scope.row.openingTime }}</template>\n        </el-table-column>\n\n        <el-table-column label=\"关门时间\">\n          <template slot-scope=\"scope\">{{ 'PM: ' +scope.row.closingTime }}</template>\n        </el-table-column>\n\n        <el-table-column label=\"是否有票\">\n          <template slot-scope=\"scope\">{{ scope.row.hasTickets === true? '有': '无' }}</template>\n        </el-table-column>\n\n        <el-table-column label=\"操作\" min-width=\"90\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              @click=\"handleSet('edit', scope.row)\">编辑</el-button>\n            <el-button\n              size=\"mini\"\n              type=\"danger\"\n              @click=\"handleSet('delete', scope.row)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"txtcenter\">\n        <el-pagination\n          background\n          layout=\"total, prev, pager, next\"\n          @current-change=\"(value) => {return handleSearch('pagination', value)}\"\n          :current-page=\"para.pageIndex\"\n          :total=\"list.total\">\n        </el-pagination>\n      </div>\n     </template>\n\n    <el-dialog\n      :title=\"dialogCfg.title\"\n      :visible.sync=\"dialogCfg.dialogVisible\"\n      :width=\"dialogCfg.width\"\n      :center=\"dialogCfg.center\"\n      :fullscreen=\"dialogCfg.fullscreen\"\n      >\n\n      <el-form :model=\"form\" :rules=\"rules\" :label-width=\"rules.width\">\n        <el-form-item label=\"城市\" prop=\"city\">\n          <el-select v-model=\"form.city\" placeholder=\"请选择\" >\n            <el-option\n              v-for=\"item in getcitys\"\n              :key=\"item.key\"\n              :label=\"item.name\"\n              :value=\"item.name\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"景点名称\" prop=\"name\" :label-width=\"rules.width\">\n          <el-input v-model=\"form.name\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"成人票\" prop=\"adultTicket\" :label-width=\"rules.width\">\n          <el-input v-model.number=\"form.adultTicket\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"儿童票\" prop=\"childTicket\" :label-width=\"rules.width\">\n          <el-input v-model.number=\"form.childTicket\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"开门时间\" prop=\"openingTime\" :label-width=\"rules.width\">\n          <el-input v-model.number=\"form.openingTime\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"关门时间\" prop=\"closingTime\" :label-width=\"rules.width\">\n          <el-input v-model.number=\"form.closingTime\"></el-input>\n        </el-form-item>\n\n      </el-form>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogCfg.dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleSuccess()\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n  </div>\n</template>\n<script>\nimport { cityslist } from '../api'\nimport { mapGetters } from 'vuex'\nexport default {\n  name: 'system',\n  data () {\n    return {\n      list: { //  用户信息\n        data: [], //  数据\n        total: 0 //  总数\n      },\n      form: {}, //  表单\n      currentSetSts: '', //  当前操作状态\n      dialogCfg: { //  弹出框配置\n        title: '', //  标题\n        dialogVisible: false, //  显示隐藏弹出框\n        width: '30%', //  宽度\n        center: true, //  是否居中\n        fullscreen: false, //  是否全屏\n      },\n      rules: {\n        width: '100px',\n        city: [{ required: true, message: '请选择城市', trigger: 'change' }],\n        name: [{ required: true, message: '请输入景点名称', trigger: 'blur' },],\n        adultTicket: [{ required: true, message: '请输入成人票价格', trigger: 'blur' }, { type: 'number', message: '必须为数字值'}],\n        childTicket: [{ required: true, message: '请输入儿童票价格', trigger: 'blur' }, { type: 'number', message: '必须为数字值'}],\n        openingTime: [{ required: true, message: '请输入开始时间', trigger: 'blur' },],\n        closingTime: [{ required: true, message: '请输入结束', trigger: 'blur' },],\n      }, //  规则\n      para: { //  查询条件\n        pageIndex: 1,\n        pageSize: 10,\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['getcitys'])\n  },\n  mounted() {\n    this.getlist()\n  },\n  methods: {\n    getlist () { //  查询用户列表\n      cityslist(this.para).then(res => {\n        console.log(res)\n        let { code, msg, data, total } = res.data\n        if (code !== 200) {\n          this.$message.error(msg)\n        } else {\n          this.list.data = data\n          this.list.total = total\n        }\n      })\n    },\n    handleSet (obj, row) { //  根据不同状态处理对应事件\n      console.log(obj, row)\n      this.from = row\n      this.currentSetSts = obj //  设置当前操作状态\n      switch (obj) {\n        case 'add': //  添加\n          this.dialogCfg.title = '添加'\n          this.dialogCfg.dialogVisible = true\n          break\n        case 'edit': //  编辑\n          break\n        case 'delete': //  删除\n          break\n      }\n    },\n    handleSuccess () {\n      switch (this.currentSetSts) {\n        case 'add': //  添加\n          this.dialogCfg.dialogVisible = false\n          break\n        case 'edit': //  编辑\n          break\n        case 'delete': //  删除\n          break\n      }\n    }\n  },\n}\n</script>\n<style lang=\"stylus\" scoped>\n\n</style>\n\n"],"sourceRoot":"src/views"}]}